<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>主題</title>
    <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
        crossorigin="anonymous"></script>
    <script>
        $(function () {
            getTopic();
        })

        let urlGetTopicList = "http://localhost:8080/articleTopics?begin=1&end=7&orderType=orderByTime";

        function getTopic() {
            $.ajax({
                url: urlGetTopicList,
                type: "GET",
                success: function (dataTopicList) {
                    createTopicView(dataTopicList);
                }
            })
        }

        function createTopicView(dataTopicList) {
            // console.log(dataTopicList[0]);
            console.log(dataTopicList[0].abc);
            
            for (let i = 0; i < dataTopicList.length; i++) {
                let tdAccidentLocation = $("<td></td>").text(dataTopicList[i].accidentLocation);
                let tdAccidentLocationLatitude = $("<td></td>").text(dataTopicList[i].accidentLocationLatitude);
                let tdAccidentLocationLongitude = $("<td></td>").text(dataTopicList[i].accidentLocationLongitude);
                let tdTopicHeader = $("<td></td>").text(dataTopicList[i].topicHeader);
                let tdTopicRegion = $("<td></td>").text(dataTopicList[i].topicRegion);
                let tdTopicContent = $("<td></td>").text(dataTopicList[i].topicContent);
                let tr1 = $("<tr></tr>").append(tdAccidentLocation);
                let tr2 = $("<tr></tr>").append(tdAccidentLocationLatitude);
                let tr3 = $("<tr></tr>").append(tdAccidentLocationLongitude);
                let tr4 = $("<tr></tr>").append(tdTopicHeader);
                let tr5 = $("<tr></tr>").append(tdTopicRegion);
                let tr6 = $("<tr></tr>").append(tdTopicContent);
                let table = $("<table></table>").append(tr1).append(tr2).append(tr3).append(tr4).append(tr5).append(tr6);
                table.addClass("table table-dark table-striped");
                $("#search > div").append(table);

                // console.log(dataTopicList[i].accidentLocation);
                // console.log(dataTopicList[i].accidentLocationLatitude);
                // console.log(dataTopicList[i].accidentLocationLongitude);
                // console.log(dataTopicList[i].accidentTime);
                // console.log(dataTopicList[i].contentReplyNum);
                // console.log(dataTopicList[i].id);
                // console.log(dataTopicList[i].memberBean);
                // console.log(dataTopicList[i].topicContent);
                // console.log(dataTopicList[i].topicContentUpdateTime);
                // console.log(dataTopicList[i].topicCreateTime);
                // console.log(dataTopicList[i].topicHeader);
                // console.log(dataTopicList[i].topicLikeNum);
                // console.log(dataTopicList[i].topicRegion);
                // console.log(dataTopicList[i].topicStatus);
                // console.log(dataTopicList[i].topicType);
                // console.log(dataTopicList[i].topicUpdateTime);
                // console.log(dataTopicList[i].updateMessage);
                // console.log(dataTopicList[i].videoBean);

            }
        }
    </script>
</head>

<body>
    <!-- <input type="button" value="testButton" onclick="createTopicView('body')"> -->
    <div class="spinner-border"></div>
    <div id="search">
        <div></div>
    </div>
    <div id="share"></div>
</body>

</html>